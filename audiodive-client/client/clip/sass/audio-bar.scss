@import './color-utils';

.clip-bottom-toolbar {
  position: fixed;
  z-index: 4;
  bottom: 0;
  left: 0px;
  right: 0px;
  padding-top: 23px;
  height: 248px;
  overflow: hidden;
  box-shadow: 0 0 0 1px rgba(16, 22, 26, 0.1);

  h6 {
    text-align: center;
    position: absolute;
    left: 0;
    width: 90px;
    font-weight: 400;
    opacity: 0.7;
  }

  h6.audio-track {
     bottom: 35px;
   }

  h6.media-track {
    bottom: 88px;
  }

  .player-bar-time {
    .bp3-input {
      width: 152px;
    }
  }

  .player-bar-speed {
    align-self: center;
    margin: 0 20px;

    label.bp3-label {
      line-height: 40px;
    }
  }

  .clip-toolbar-handle {
    height: 14px;
    top: -6px;
    position: absolute;
    z-index: 7;
    width: 100%;
    cursor: row-resize;
  }

  .media-overlay {
    bottom: 0;
    left: 0;
    right: 0;
    background: rgba(255, 255, 255, 0.7);
    height: 160px;
    position: absolute;
    z-index: 5;
  }

  .wavesurfer-container {
    margin: 0 10px 10px 90px;
  }

  .clip-editor-media-container {

    z-index: 7;
    position: absolute;
    top: 0;

    .clip-editor-media {

      position: absolute;
      //box-shadow: 2px 0 0 0 $media-dark-transparent inset;
      //width: 2px;
      z-index: 5;
      height: 34px;
      top: 30px;
      overflow: visible;

      &.active {
        z-index: 7 !important;
      }

      &:nth-child(2n) {

        .bp3-tag {
          margin-top: 19px;
        }

        .media-duration {

          top: 17px;

        }

        .media-resize {
          top: 13px;
        }
      }

      .media-tag span {
          max-width:140px;
      }

      .media-resize {
        right: initial;
        left: 0px;
        margin: 0;
        top: 0;
        padding: 0px;
        height: 31px;
        position: absolute;
        min-width: 18px;
        border-radius: 1px 8px 8px 1px;
        cursor: ew-resize;
        padding-right: 1px;
      }

      .bp3-tag {
        margin-top: 5px;

        &:focus {
          outline: 0;
        }

        //&.button-media {
        //  top: 14px;
        //  left: 0;
        //
        //  .bp3-button-text {
        //    max-width: 120px;
        //    text-overflow: ellipsis;
        //    overflow: hidden;
        //  }
        //
        //  &.bp3-button.bp3-intent-warning {
        //    //background-color: $media-dark-transparent;
        //
        //    &.active {
        //      max-width: initial;
        //      //background-color: $media-medium;
        //    }
        //  }
        //}

        &.media-time {
          top:0;
          right:2px;
        }



      }

      .media-duration {
        z-index: -1;
        width: 234.002px;
        height: 24px;
        position: absolute;
        top: 3px;
        background: rgba(243, 156, 18, 0.2);
      }
    }
    .label {
      border-radius: 0.1em;
      position: absolute;
      bottom: 0px;
      left: -38px;
      padding: .3em 0.4em .4em;
      font-size: 12px;
      font-weight: 400;
      text-overflow: ellipsis;
      overflow: hidden;
      width: 72px;
      text-align: center;
    }


  }


}

.player-bar {

  display: flex;
  justify-content: center;
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  width: 100%;
  height: 46px;
  z-index: 6;
  background: #fff;

  .button-large-no-margin {
    .bp3-icon-large {
      margin-right: 0;
    }
  }

}

.bp3-dark .clip-bottom-toolbar {
  box-shadow: 0 0 0 1px rgba(16, 22, 26, 0.2), 0 0 0 rgba(16, 22, 26, 0), 0 -1px 0px rgba(16, 22, 26, 0.4);
}

.bp3-dark .player-bar {
  background: $dark-gray5;
}

.time-input {
  //min-width: 100px;
  align-self: center;

  input {
    letter-spacing: 1px;
  }

}





.wavesurfer-container {

  overflow-x: scroll;
  padding-top: 20px;
  height: 150px;
  position:relative;



  timeline {
    position: absolute !important;
    top: 24px;
  }

  showtitle {

    opacity: 1 !important;

    div {
      height: 30px !important;
      display: inline-block !important;
      font-size: 12px;
      padding-left: 4px;
    }

  }

  .selected-region-overlay {
    position: absolute;
    bottom:0;

    .btn-playregion {
      position: absolute;
      bottom: 7px;
      left:8px;
      z-index: 4;
      background: $word-dark;

      &.empty {
        font-style: italic;
      }
    }
  }

  .wavesurfer-cursor {
    position: absolute;
    top: 18px;
    margin-left: -13px;
    z-index: 8;

    .line {
      position: absolute;
      left: 0px;
      width: 1px;
      height: 94px;
      right: 0;
      margin: auto;
      box-shadow: 0 0 0 1px hsl(217, 71%, 53%) inset;
      top: 26px;
    }

    .cursor-button {
      min-width: 24px;
      min-height: 20px;
      border-radius: 2px;
    }

    //.bp3-button.with-arrow:after {
    //  content: '';
    //  width: 0;
    //  height: 0;
    //  position: absolute;
    //  bottom: -4px;
    //  left: 0px;
    //  border-left: 14px solid transparent;
    //  border-right: 14px solid transparent;
    //  border-top: 5px solid #ccc;
    //}
  }


  cursor {
    top: initial !important;
    bottom: 8px !important;
    height: 106px !important;
  }

  wave {
    overflow: visible !important;
    position: absolute !important;
    bottom: 0px;
    cursor: crosshair;
  }

  .wavesurfer-wrapper > wave {
    //background: rgba(41, 55, 66, .1);
    box-shadow: inset 0 0px 2px 0px rgba(16, 22, 26, 0.3);
  }

  //width:4000px;
  &::-webkit-scrollbar-track, .clips::-webkit-scrollbar-track
  {
    //-webkit-box-shadow: inset 0 0 3px rgba(0,0,0,0.1);
    background-color: rgba(206, 217, 224, 0.1);
  }

  &::-webkit-scrollbar, .clips::-webkit-scrollbar
  {
    height: 12px;
    width: 12px;
  }

  &::-webkit-scrollbar-thumb, .clips::-webkit-scrollbar-thumb
  {
    box-shadow: inset 0 0 0 1px rgba(16, 22, 26, 0.05);
    background-color: $gray3;
    cursor: pointer;
    border-radius:1px;
  }

  .wavesurfer-clip {
    .wavesurfer-region {
      .wavesurfer-handle.wavesurfer-handle-end {
        display: none;
      }

      &.last-region {
        .wavesurfer-handle.wavesurfer-handle-end {
          display: block;
        }
      }
    }
  }

  .wavesurfer-region {

    background-color: rgba(0, 115, 183, 0.20) !important;
    //box-shadow: inset 0 1px 3px 0px rgba(16, 22, 26, 0.1);
    cursor: pointer !important;
    z-index: 3 !important;
    height: 50% !important;
    top: initial !important;
    bottom: 0px !important;


    .wavesurfer-handle.wavesurfer-handle-start, .wavesurfer-handle.wavesurfer-handle-end {
      //background: #fff;
      min-width: 6px;
      max-width: 6px !important;
      box-shadow: 0 0px 2px 0px rgba(16, 22, 26, 0.3);
      transition: all 0.2s ease-in;

      top: initial !important;
      bottom: 0px;
      height: 200% !important;
    }

    .wavesurfer-handle.wavesurfer-handle-start:hover {
      left: -2px !important;
      min-width: 10px;
      max-width: 10px !important;
      box-shadow: 0 0px 2px 0px rgba(16, 22, 26, 0.5);
    }

    .wavesurfer-handle.wavesurfer-handle-end:hover {
      right: -2px !important;
      min-width: 10px;
      max-width: 10px !important;
      box-shadow: 0 0px 2px 0px rgba(16, 22, 26, 0.5);
    }

    &:hover {
      background-color: rgba(0, 115, 183, 0.45) !important;
    }

    &.selected-region {
      background-color: rgba(0, 115, 183, 0.55) !important;

      //.wavesurfer-handle.wavesurfer-handle-start {
      //  box-shadow: 4px 0 0 #1f4b99 inset;
      //}
    }
  }

  .wavesurfer-episode {

    //.wavesurfer-region {
    //  background-color: rgba(72, 175, 240, 0.1) !important;
    //  box-shadow: inset 0 0px 5px 0px rgba(255, 255, 255, 0.5), 0 0px 0px 2px rgba(14, 90, 138, 0.3) inset;
    //  border-radius: 1px;
    //}
    //
    //.wavesurfer-handle.wavesurfer-handle-start, .wavesurfer-handle.wavesurfer-handle-end {
    //  box-shadow: 0 0px 0px 2px rgba(14, 90, 138, 0.3);
    //}
    //
    //.wavesurfer-handle.wavesurfer-handle-start:hover {
    //  box-shadow: 0 0px 0px 2px rgba(14, 90, 138, 0.5);
    //}
    //
    //.wavesurfer-handle.wavesurfer-handle-end:hover {
    //  box-shadow: 0 0px 0px 2px rgba(14, 90, 138, 0.5);
    //}


  }
}


.audio-background {
  background: #fff;
  box-shadow: 0 0 0 1px rgba(16, 22, 26, 0.1);
  position:absolute;
  z-index: -1;
  bottom:0;
  left:0;
  right:0;
  top:28px;
}

.bp3-dark {
  .audio-background {
    background: $dark-gray5;
  }

  .wavesurfer-container {
    background: $dark-gray3;
    box-shadow: 0 0 0 1px rgba(16, 22, 26, 0.2), 0 0 0 rgba(16, 22, 26, 0), 0 1px 0px rgba(16, 22, 26, 0.4) inset;

    .wavesurfer-region .wavesurfer-handle.wavesurfer-handle-start, .wavesurfer-handle.wavesurfer-handle-end {
      background: $dark-gray5 !important;
    }
  }


}